<!-- Sidebar Toggle Button -->
<button id="sidebar-toggle" class="sidebar-toggle fixed top-4 left-4 p-3 bg-gray-800 text-white rounded-full z-20 hover:bg-gray-700 dark:bg-gray-600 dark:hover:bg-gray-500 transition-all duration-300">
  <span class="sr-only">Toggle sidebar</span>
  <!-- Hamburger Icon -->
  <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
      <path clip-rule="evenodd" fill-rule="evenodd" d="M2 4.75A.75.75 0 012.75 4h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 4.75zm0 10.5a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5a.75.75 0 01-.75-.75zM2 10a.75.75 0 01.75-.75h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 10z"></path>
  </svg>
</button>

<!-- Sidebar Overlay -->
<div id="sidebarOverlay" class="fixed inset-0 bg-black bg-opacity-50 hidden z-10"></div>

<!-- Sidebar Structure -->
<aside id="sidebar" class="sidebar fixed top-0 left-0 h-full w-64 transform -translate-x-full bg-gray-100 dark:bg-gray-800 shadow-lg transition-transform duration-300 z-20">
  <div class="sidebar-content p-6 space-y-4">

      <div class="text-center text-xl font-semibold text-gray-800 dark:text-gray-200">
          <i class="fa-solid fa-chart-line mr-2"></i> Dashboard
      </div>

      <!-- User Profile Section -->
      <div class="flex items-center space-x-2 p-2 border-b border-gray-300 dark:border-gray-700">
          <img src="<%=user.picture ? user.picture : '/images/user.png' %>" alt="User Avatar" class="w-10 h-10 rounded-full">
          <div class="text-gray-800 dark:text-gray-200">
              <p class="font-semibold"><%= user.username %></p>
              <p class="text-sm"><%= user.id %></p>
          </div>
      </div>

      <!-- Search Bar -->
      <div>
          <input type="text" placeholder="Search..." class="w-full p-2 bg-gray-200 dark:bg-gray-700 rounded-lg text-gray-800 dark:text-gray-200 focus:outline-none">
      </div>

      <!-- Sidebar Menu -->
      <ul class="menu space-y-3">
          <li>
              <a href="/dashboard" class="menu-item flex items-center p-3 text-gray-800 dark:text-gray-200 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-700 transition-all duration-200 active">
                  <i class="fa-solid fa-gauge mr-3"></i> Home
              </a>
          </li>
          <li>
              <a href="/user-tasks" class="menu-item flex items-center p-3 text-gray-800 dark:text-gray-200 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-700 transition-all duration-200">
                  <i class="fa-solid fa-tasks mr-3"></i> Tasks
              </a>
          </li>
          <li>
              <button class="flex items-center w-full p-3 text-gray-800 dark:text-gray-200 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-700 transition-all duration-200">
                  <i class="fa-solid fa-users mr-3"></i> <a href="/dashboard/user/meetings">Meetings</a>
              </button>
             
          <li>
              <a href="/logout" class="menu-item flex items-center p-3 text-gray-800 dark:text-gray-200 rounded-lg hover:bg-red-600 dark:hover:bg-red-500 transition-all duration-200">
                  <i class="fa-solid fa-right-from-bracket mr-3"></i> Logout
              </a>
          </li>
      </ul>
  </div>
</aside>

<style>
  .sidebar {
      transition: transform 0.3s ease;
      display: none;
  }
  .sidebar.open {
      transform: translateX(0); 
  }
 
  #sidebarOverlay {
      transition: opacity 0.3s ease;
  }
  .menu-item.active {
      background-color: #e2e8f0; 
      color: #1a202c; 
  }

  @media (max-width: 768px) {
    #sidebar-toggle {
      top: 0; 
      left: 0; 
      width: 40px; 
      height: 40px; 
    }
  }

</style>

<!-- Sidebar JavaScript -->
<script>
  const sidebar = document.getElementById('sidebar');
  const sidebarToggle = document.getElementById('sidebar-toggle');
  const sidebarOverlay = document.getElementById('sidebarOverlay');

  sidebarToggle.addEventListener('click', () => {
      sidebar.classList.toggle('open');
      sidebarOverlay.classList.toggle('hidden');
  });

  sidebarOverlay.addEventListener('click', () => {
      sidebar.classList.remove('open');
      sidebarOverlay.classList.add('hidden');
  });


</script>
